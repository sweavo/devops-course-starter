services:
    dev:
        build:
            context: .
            target: dev
        image: todo-app:dev
        ports: 
            - "5000:5000"
        env_file: .env
        volumes:
            - type: bind
              source: todo_app
              target: /opt/todoapp/todo_app

    prod:
        build: 
            context: .
            target: prod
        image: todo-app:prod
        ports: 
            - "8000:8000"
        env_file: .env
